---
# =============================================================================
# ANSIBLE CONFIGURATION VARIABLES
# =============================================================================
# This file contains all variables for the workstation bootstrap.
# Override values in inventory/group_vars/<group>.yml or inventory/host_vars/<host>.yml
# for environment-specific settings.
#
# ENVIRONMENT VARIABLES
# ---------------------
# brew_prefix: Homebrew installation directory (default: /home/linuxbrew/.linuxbrew)
# brew_bin: Path to brew binary
# homebrew_taps: Additional Homebrew taps to install
# uv_bin: Path to uv (Python package manager)
# go_bin: Path to Go binary
# cargo_bin: Path to Cargo binary
# rustup_bin: Path to Rustup binary
# ansible_path: Combined PATH for task execution (includes brew, cargo, go, local bins)
#
# CUSTOM FACTS (Set During Playbook Execution)
# --------------------------------------------
# These facts are dynamically set by roles and used throughout the playbook:
#
# is_wsl (boolean)
#   - Set by: system_prereqs role
#   - Source: Detects WSL via /proc/version containing "microsoft"
#   - Usage: Skip GUI apps in WSL, configure SSH agent bridge
#
# arch_package_manager (string: "yay" | "pacman")
#   - Set by: system_prereqs role (Arch Linux only)
#   - Source: Detects available AUR helper or falls back to pacman
#   - Usage: Determines which package manager to use for native packages
#
# uv_bin, go_bin, cargo_bin, rustup_bin (string: path)
#   - Set by: lang_managers role
#   - Source: Constructed from brew_prefix and ansible_facts['user_dir']
#   - Usage: Binary paths for language-specific package installation
#
# ansible_path (string: PATH)
#   - Set by: lang_managers role
#   - Source: Combines brew, cargo, go, and local bin paths
#   - Usage: Passed to shell tasks via environment to find installed binaries
#
# PACKAGE DEFINITIONS
# -------------------
# Packages are split into chunk files. Each package can specify:
#   - brew: Install via Homebrew (name, flags)
#   - uv: Install via uv/pip (command)
#   - go: Install via go install (command)
#   - cargo: Install via cargo (name, locked)
#   - npm: Install via npm (name)
#   - native: Install via system package manager (apt, dnf, pacman, yay)
#   - description: Human-readable description
#   - tags: List of tags for filtering
#   - post_install: Commands to run after installation (string or list of strings)
#
# TAG CONVENTIONS
# ---------------
#   - core: Essential tools installed by default
#   - optional: Large/heavy tools not installed by default (lima, exegol, qemu)
#   - ai: AI-related tools (claude-code, claude-monitor, ollama, opencode, gemini-cli)
#   - Category tags: shell, files, development, git, pentesting, data, search, package-managers, misc, fonts, lsp
# =============================================================================

# Homebrew installation prefix for Linux
brew_prefix: /home/linuxbrew/.linuxbrew

# Path to the brew binary
brew_bin: /home/linuxbrew/.linuxbrew/bin/brew

# Additional Homebrew taps for specialized packages
homebrew_taps:
  - abdfnx/tap
  - arimxyer/tap
  - marwanhawari/tap
  - nao1215/tap
  - skalt/git-cc
  - ynqa/tap
  - endava/tap
  - wader/tap
  - harehare/tap

# Path to uv Python package manager
uv_bin: /home/linuxbrew/.linuxbrew/bin/uv

# Path to Go binary
go_bin: /home/linuxbrew/.linuxbrew/bin/go

# Path to Cargo binary
cargo_bin: "{{ ansible_facts['user_dir'] }}/.cargo/bin/cargo"

# Path to Rustup binary
rustup_bin: "{{ ansible_facts['user_dir'] }}/.cargo/bin/rustup"

# Combined PATH for Ansible task execution
ansible_path: >-
  /home/linuxbrew/.linuxbrew/bin:{{ ansible_facts['user_dir'] }}/.cargo/bin:{{ ansible_facts['user_dir'] }}/go/bin:{{ ansible_facts['user_dir'] }}/.local/bin:{{ ansible_facts['env']['PATH'] }}

# =============================================================================
# PACKAGE CATALOG
# =============================================================================
# Package catalog is split across inventory/group_vars/all/packages_*.yml
# and merged in playbooks before package_installer runs.
